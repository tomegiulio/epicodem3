<div class="container m-3">
  <h1 class="text-center">Reactive Form</h1>
</div>
<div class="container">
  <div class="row">
    <div class="col">
      <form [formGroup]="form">
        <!--binding dell'intero form come oggetto unico, non come nel td-form-->
        <div formGroupName="userInfo">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" formControlName="username" id="username" class="form-control">
            <span *ngIf="getFormC('userInfo.username')?.invalid && getFormC('userInfo.username')?.touched">
              <ng-container *ngIf="getErrorsC('userInfo.username', 'required')">Campo username obbligatorio
              </ng-container>
              <ng-container *ngIf="getErrorsC('userInfo.username', 'usernameProibito')">Username non consentito
              </ng-container>
            </span>
          </div>
          <div class="form-group">
            <label for="alterego">Alter Ego</label>
            <input type="alterego" formControlName="alterego" id="alterego" class="form-control">
            <span *ngIf="getFormC('userInfo.alterego')?.pending">Sto controllando...</span>
            <span *ngIf="getFormC('userInfo.alterego')?.invalid && getFormC('userInfo.alterego')?.touched">
              <ng-container *ngIf="getErrorsC('userInfo.alterego', 'required')">Campo Alter Ego obbligatorio
              </ng-container>
              <ng-container *ngIf="getErrorsC('userInfo.alterego', 'alterego')">Alter Ego non consentito</ng-container>
            </span>
          </div>
        </div>

        <div formArrayName="poteri" class="m-3">
          <h3>Super Poteri</h3>
          <button type="button" (click)="addPoteri()" class="btn btn-info">Aggiungi Super Poteri</button>
          <div class="form-group m-3" *ngFor="let poteriC of getPoteriF(); let i = index">
            <input type="text" class="form-control" [formControlName]="i">
          </div>
        </div>
        <div formArrayName="pianeta" class="m-3">
        <h3>Pianeta</h3>
        <button type="button" (click)="addPianeta()" class="btn btn-info">Aggiungi Pianeta</button>
        <div class="form-group m-3" *ngFor="let pianetaC of getPianetaF(); let i = index">
          <input type="text" class="form-control" [formControlName]="i">
        </div>
        </div>
        <div formArrayName="nemico" class="m-3">
        <h3>NEMICO</h3>
        <button type="button" (click)="addNemico()" class="btn btn-info">Aggiungi Nemico</button>
        <div class="form-group m-3" *ngFor="let nemicoC of getNemicoF(); let i = index">
          <input type="text" class="form-control" [formControlName]="i">
        </div>
        </div>
        <button type="submit" (click)="submit()" class="btn btn-info">Invia</button>

      </form>
    </div>
  </div>
</div>
